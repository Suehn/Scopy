# Scopy v0.10.3-fix - FooterView 布局修复

## 一页纸总结

**What**: 修复搜索时 FooterView 高度不稳定的问题

**Why**: 搜索结果变化时，列表内容减少会导致 FooterView 被拉伸填充剩余空间

**Result**: FooterView 固定高度 32px，搜索时布局稳定

---

## 问题描述

### 现象
- 搜索时 FooterView 会短暂变得过大
- 列表内容减少时底部栏被拉伸

### 根因
- FooterView 没有固定高度约束
- VStack 布局中，当列表内容减少时，FooterView 会自动填充剩余空间

---

## 修复方案

### 文件改动

**`Scopy/Views/FooterView.swift`**

```swift
// 在 VStack 闭包结束后添加固定高度
}
// v0.10.3-fix: 固定高度防止搜索时布局跳动
.frame(height: 32)
.frame(maxWidth: .infinity)
.alert(...)
```

### 关键代码

```swift
var body: some View {
    VStack(spacing: 0) {
        Divider()
        HStack(spacing: ScopySpacing.md) {
            // ... 内容
        }
        .padding(.horizontal, ScopySpacing.lg)
        .padding(.vertical, ScopySpacing.xs)
    }
    // v0.10.3-fix: 固定高度防止搜索时布局跳动
    .frame(height: 32)
    .frame(maxWidth: .infinity)
    // ...
}
```

---

## 测试验证

- [x] 搜索时 FooterView 高度保持稳定
- [x] 列表内容变化时底部栏不再跳动
- [x] 正常显示状态信息和按钮

---

**完成日期**: 2025-11-28
**维护者**: Claude Code
