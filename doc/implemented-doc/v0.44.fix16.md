# v0.44.fix16

## ğŸ“Œ ä¸€é¡µçº¸æ€»ç»“ï¼ˆWhat / Why / Resultï¼‰

### What

- Fix/Qualityï¼šä¿®å¤æ€§èƒ½æ‘˜è¦å±•ç¤ºçš„è¯¯å¯¼æ€§ N/Aï¼ˆload æŒ‡æ ‡ä¸å†è¢« searchSamples å½±å“ï¼‰ï¼Œå¹¶æ”¶å£ä¸€æ¬¡å¹¶å‘å«ç”Ÿï¼ˆé¿å… `@MainActor` ç±»å‹åœ¨åå°é—­åŒ…æ•è· `self`ï¼‰ã€‚

### Why

- `PerformanceSummary.formatLatency` ä¹‹å‰ç”¨ `searchSamples == 0` ä½œä¸ºæ‰€æœ‰æŒ‡æ ‡çš„ â€œN/Aâ€ æ¡ä»¶ï¼Œå¯¼è‡´â€œåªæœ‰ load æ ·æœ¬ä½†æ²¡æœ‰ search æ ·æœ¬â€æ—¶ï¼Œload ä¹Ÿä¼šæ˜¾ç¤º N/Aï¼ˆçº¯å±•ç¤º bugï¼Œä½†ä¼šè¯¯å¯¼ç”¨æˆ·å¯¹æ€§èƒ½çš„åˆ¤æ–­ï¼‰ã€‚
- `StorageService` ä¸º `@MainActor`ï¼›`clearThumbnailCache()` åœ¨åå°é˜Ÿåˆ—é—­åŒ…é‡Œæ•è· `self.thumbnailCachePath` ä¼šåœ¨ Swift 6 strict concurrency ä¸‹äº§ç”Ÿå‘Šè­¦ï¼ˆå¹¶ä¸”ä¸å¿…è¦ï¼‰ã€‚

### Result

- æ€§èƒ½æ‘˜è¦çš„æ ¼å¼åŒ–é€»è¾‘æŒ‰å„è‡ª sample è®¡æ•°åˆ¤æ–­ï¼šsearch ç”¨ `searchSamples`ï¼Œload ç”¨ `loadSamples`ï¼›load ä¸å†è¢«è¯¯åˆ¤ä¸º N/Aã€‚
- `clearThumbnailCache()` å…ˆå¤åˆ¶ `thumbnailCachePath` åˆ°å±€éƒ¨å¸¸é‡ï¼Œå†åœ¨åå°é˜Ÿåˆ—æ‰§è¡Œæ–‡ä»¶æ“ä½œï¼Œé¿å…è·¨ actor æ•è· `self`ã€‚

---

## ğŸ“‚ æ ¸å¿ƒæ”¹åŠ¨

- `Scopy/Observables/PerformanceMetrics.swift`
  - `PerformanceSummary.formatLatency` å¢åŠ  `samples` å‚æ•°ï¼ŒæŒ‰æŒ‡æ ‡å¯¹åº”çš„ sample è®¡æ•°å†³å®šæ˜¯å¦æ˜¾ç¤º N/Aã€‚
- `Scopy/Services/StorageService.swift`
  - `clearThumbnailCache()` æ”¹ä¸ºæ•è·å±€éƒ¨è·¯å¾„å¸¸é‡ï¼Œé¿å…åå°é—­åŒ…æ•è· `@MainActor self`ã€‚
- `README.md` / `AGENTS.md`
  - Homebrew å®‰è£…ä¸å‘å¸ƒæ ¡éªŒæ¸…å•æ›´æ–°ï¼šå‘å¸ƒå®Œæˆå¿…é¡»é—­ç¯åˆ°â€œHomebrew å¯å®‰è£…/å¯å‡çº§â€ã€‚

---

## âœ… æµ‹è¯•

- `xcodebuild test -scheme Scopy -destination 'platform=macOS' -only-testing:ScopyTests`ï¼šExecuted 237 tests, 7 skipped, 0 failures
