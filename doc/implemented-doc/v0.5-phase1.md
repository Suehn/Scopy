# Scopy v0.5 Phase 1: æµ‹è¯•æµç¨‹è‡ªåŠ¨åŒ–å®ç°æ–‡æ¡£

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

**å®ç°æ—¶é—´**: 2025-11-27
**ä¼˜å…ˆçº§**: P0 (Critical)
**çŠ¶æ€**: âœ… å®Œæˆå¹¶éªŒè¯

æœ¬é˜¶æ®µå®Œæˆäº† Scopy çš„æµ‹è¯•æµç¨‹è‡ªåŠ¨åŒ–ï¼Œå®ç°äº†ä»ç¼–è¯‘åˆ°å¯åŠ¨çš„å®Œæ•´ä¸€é”®æµ‹è¯•æµç¨‹ï¼ŒåŒ…æ‹¬è‡ªåŠ¨å¥åº·æ£€æŸ¥å’Œæ•…éšœå›æ»šæœºåˆ¶ã€‚

---

## ğŸ¯ å®ç°è·¯çº¿

### Phase 1 ç›®æ ‡
ä¸ºå¼€å‘äººå‘˜æä¾›ä¾¿æ·ã€è‡ªåŠ¨åŒ–çš„æµ‹è¯•æµç¨‹ï¼Œé™ä½æ‰‹åŠ¨æµ‹è¯•æˆæœ¬ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚

### æ ¸å¿ƒåŠŸèƒ½
1. **è‡ªåŠ¨åŒ–ç¼–è¯‘ â†’ å®‰è£… â†’ å¯åŠ¨æµç¨‹** (test-flow.sh)
2. **å¯åŠ¨åè‡ªåŠ¨æ‰§è¡Œ 6 é¡¹å¥åº·æ£€æŸ¥** (health-check.sh)
3. **é”™è¯¯æ—¶è‡ªåŠ¨å›æ»šåˆ°å¤‡ä»½ç‰ˆæœ¬**
4. **Makefile å‘½ä»¤é›†æˆ** (ä¸€é”®æ‰§è¡Œ)

### è®¾è®¡å†³ç­–
| å†³ç­– | é€‰æ‹© | ç†ç”± |
|------|------|------|
| è„šæœ¬è¯­è¨€ | Bash | è·¨å¹³å°ã€æ— ä¾èµ–ã€æ˜“äºç»´æŠ¤ |
| å®‰è£…ä½ç½® | /Applications/Scopy.app | macOS æ ‡å‡†åº”ç”¨ä½ç½® |
| å¤‡ä»½ç­–ç•¥ | æ—¶é—´æˆ³å‘½å | é¿å…å†²çªã€ä¾¿äºè¿½è¸ª |
| æœåŠ¡é€‰æ‹© | USE_MOCK_SERVICE=0 | çœŸå®ç¯å¢ƒæµ‹è¯• |
| é”™è¯¯å¤„ç† | trap + å›æ»š | ä¿è¯ç¯å¢ƒå¹²å‡€ |

---

## ğŸ“ å½“å‰çŠ¶æ€æ”¹åŠ¨

### æ–°å¢æ–‡ä»¶

#### 1. scripts/test-flow.sh (400 è¡Œ)

**æ ¸å¿ƒé€»è¾‘æµç¨‹**:
```
main()
  â”œâ”€ kill_existing_processes()      # TERM â†’ 2sç­‰å¾… â†’ KILL
  â”œâ”€ backup_existing_app()          # å¤‡ä»½åˆ° /tmp/Scopy-backup-<timestamp>.app
  â”œâ”€ build_app()                    # xcodebuild compile (å¯è·³è¿‡)
  â”œâ”€ install_app()                  # cp åˆ° /Applications/
  â”œâ”€ launch_app()                   # å¯åŠ¨åº”ç”¨ + éªŒè¯è¿›ç¨‹
  â”œâ”€ run_health_checks()            # è°ƒç”¨ health-check.sh
  â”œâ”€ cleanup()                      # æ¸…ç†å¤‡ä»½å’Œæ—¥å¿—
  â””â”€ [é”™è¯¯æ—¶] rollback()            # æ¢å¤å¤‡ä»½ç‰ˆæœ¬
```

**å…³é”®åŠŸèƒ½**:
- å‚æ•°æ”¯æŒ: `--skip-build`, `--verbose`
- æ—¥å¿—è¾“å‡º: emoji æŒ‡ç¤ºå™¨ + ç»“æ„åŒ–ä¿¡æ¯
- é”™è¯¯å›æ»š: è‡ªåŠ¨æ¢å¤å¤‡ä»½ (trap ERR)
- ç¯å¢ƒå˜é‡: USE_MOCK_SERVICE=0 (çœŸå®æœåŠ¡)
- è¶…æ—¶å¤„ç†: 3s å¯åŠ¨ç­‰å¾…æ—¶é—´

**ä»£ç ç‰‡æ®µ - è¿›ç¨‹æ€æ­»é€»è¾‘**:
```bash
kill_existing_processes() {
    PIDS=$(pgrep -f "Scopy.app/Contents/MacOS/Scopy" || true)
    [ -z "$PIDS" ] && return 0

    # ä¼˜é›…å…³é—­
    echo "$PIDS" | xargs kill -TERM 2>/dev/null || true
    sleep 2

    # å¼ºåˆ¶æ€æ­»ä»åœ¨è¿è¡Œçš„è¿›ç¨‹
    PIDS=$(pgrep -f "Scopy.app/Contents/MacOS/Scopy" || true)
    [ -n "$PIDS" ] && echo "$PIDS" | xargs kill -9 2>/dev/null || true
}
```

**ä»£ç ç‰‡æ®µ - é”™è¯¯å¤„ç†**:
```bash
main() {
    trap 'rollback; exit 1' ERR  # æ•è·ä»»ä½•é”™è¯¯å¹¶å›æ»š

    kill_existing_processes
    backup_existing_app
    build_app
    install_app
    launch_app
    run_health_checks
    cleanup
}
```

#### 2. scripts/health-check.sh (150 è¡Œ)

**6 é¡¹å¥åº·æ£€æŸ¥**:

| # | æ£€æŸ¥é¡¹ | éªŒè¯æ–¹å¼ | é˜ˆå€¼ | å¤±è´¥å¤„ç† |
|---|--------|---------|------|---------|
| 1 | è¿›ç¨‹è¿è¡Œ | pgrep -f | è¿›ç¨‹å­˜åœ¨ | é€€å‡º (fail) |
| 2 | æ•°æ®åº“è¿æ¥ | sqlite3 æŸ¥è¯¢ | å¯æ‰§è¡Œ | ç»§ç»­ (warn) |
| 3 | èœå•æ å›¾æ ‡ | è¿›ç¨‹æ£€æŸ¥ | è¿›ç¨‹å­˜åœ¨ | ç»§ç»­ |
| 4 | æ—¥å¿—è¾“å‡º | log show è¿‡æ»¤ | æ—  error/crash/exception | ç»§ç»­ |
| 5 | å¿«æ·é”®æ³¨å†Œ | æ—¥å¿—ä¸­ "registered" | æ—¥å¿—å­˜åœ¨ | ç»§ç»­ |
| 6 | å†…å­˜å ç”¨ | ps -o rss | < 500MB | ç»§ç»­ (warn) |

**ä»£ç ç‰‡æ®µ - Check 2 æ•°æ®åº“è¿æ¥**:
```bash
check_database() {
    log_check "Check 2: Database connection"

    [ ! -f "$DB_PATH" ] && { log_warn "Database not found (first run)"; return 0; }

    COUNT=$(sqlite3 "$DB_PATH" "SELECT COUNT(*) FROM clipboard_items;" 2>/dev/null || echo "ERROR")

    [ "$COUNT" = "ERROR" ] && log_fail "Cannot query database"
    log_pass "Database accessible ($COUNT items)"
}
```

**ä»£ç ç‰‡æ®µ - Check 6 å†…å­˜æ£€æŸ¥ (v1.1 ä¿®å¤)**:
```bash
check_memory() {
    log_check "Check 6: Memory usage"

    PID=$(pgrep -f "Scopy.app/Contents/MacOS/Scopy" || echo "")
    [ -z "$PID" ] && { log_warn "Process not found"; return 0; }

    MEM_KB=$(ps -o rss= -p $PID 2>/dev/null | awk '{print $1}')
    [ -z "$MEM_KB" ] && { log_warn "Cannot read memory"; return 0; }

    # è®¡ç®— MB
    (( $(echo "$MEM_MB > 500" | bc -l) )) && log_warn "Memory high: ${MEM_MB}MB"
}
```

### ä¿®æ”¹çš„æ–‡ä»¶

#### Makefile (+15 è¡Œ)

**æ–°å¢ .PHONY å£°æ˜**:
```makefile
.PHONY: ... test-flow test-flow-quick health-check
```

**æ–°å¢å‘½ä»¤**:
```makefile
# =================== æµ‹è¯•æµç¨‹è‡ªåŠ¨åŒ– ===================

# å®Œæ•´æµ‹è¯•æµç¨‹ï¼ˆæ€è¿›ç¨‹ â†’ ç¼–è¯‘ â†’ å®‰è£… â†’ å¯åŠ¨ â†’ å¥åº·æ£€æŸ¥ï¼‰
test-flow:
	@bash scripts/test-flow.sh

# å¿«é€Ÿæµ‹è¯•æµç¨‹ï¼ˆè·³è¿‡ç¼–è¯‘ï¼‰
test-flow-quick:
	@bash scripts/test-flow.sh --skip-build

# ä»…è¿è¡Œå¥åº·æ£€æŸ¥
health-check:
	@bash scripts/health-check.sh
```

**æ›´æ–° help å‘½ä»¤** (+6 è¡Œ):
```makefile
@echo "Test Flow Automation:"
@echo "  make test-flow    - Full test flow (kill â†’ build â†’ install â†’ launch â†’ health check)"
@echo "  make test-flow-quick - Quick test flow (skip build)"
@echo "  make health-check - Run health checks only"
```

---

## ğŸš¶ Walkthrough: ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯ 1: ä»£ç ä¿®æ”¹åçš„å®Œæ•´æµ‹è¯•

```bash
$ make test-flow

================================
â„¹ï¸  Starting Scopy test flow...
================================
â„¹ï¸  Killing existing Scopy processes...
â„¹ï¸  No existing Scopy processes found
â„¹ï¸  Backing up existing app to /tmp/Scopy-backup-1764217042.app...
âœ… Backup created
â„¹ï¸  Building Scopy...
â„¹ï¸  Running xcodebuild...
âœ… Build succeeded
â„¹ï¸  Installing Scopy to /Applications/Scopy.app...
â„¹ï¸  Build directory: /Users/ziyi/Library/Developer/Xcode/DerivedData/...
âœ… App installed to /Applications/Scopy.app
â„¹ï¸  Launching Scopy with real service...
â„¹ï¸  App launched with PID: 99615
âœ… App is running (PID: 99615)
â„¹ï¸  Running health checks...

================================
Scopy Health Checks
================================
ğŸ” Check 1: Process is running
  âœ… Process running (PID: 99615)
ğŸ” Check 2: Database connection
  âœ… Database accessible (19 items)
ğŸ” Check 3: Menu bar icon
  âœ… App running (menu bar icon should be visible)
ğŸ” Check 4: Log output
  âœ… Logs look clean
ğŸ” Check 5: Global hotkey (â‡§âŒ˜C)
  âš ï¸  Please manually test â‡§âŒ˜C to verify hotkey
ğŸ” Check 6: Memory usage
  âœ… Memory usage: 75.87MB

================================
âœ… All health checks passed!
================================

âœ… Test flow completed successfully!
â„¹ï¸  App is running at /Applications/Scopy.app
â„¹ï¸  PID: 99615
â„¹ï¸  Next steps:
â„¹ï¸    - Test the app manually
â„¹ï¸    - Run: make test
â„¹ï¸    - Kill app: pkill -9 Scopy
```

**è€—æ—¶**: ~30sï¼ˆåŒ…æ‹¬ç¼–è¯‘ã€å®‰è£…ã€å¯åŠ¨ã€æ£€æŸ¥ï¼‰

### åœºæ™¯ 2: å¿«é€Ÿè¿­ä»£ï¼ˆè·³è¿‡ç¼–è¯‘ï¼‰

```bash
$ make test-flow-quick

================================
â„¹ï¸  Starting Scopy test flow...
================================
âš ï¸  Skipping build (--skip-build flag)
â„¹ï¸  Installing Scopy to /Applications/Scopy.app...
âœ… App installed to /Applications/Scopy.app
â„¹ï¸  Launching Scopy with real service...
âœ… App is running (PID: 99979)
â„¹ï¸  Running health checks...
ğŸ” Check 1: Process is running
  âœ… Process running (PID: 99979)
ğŸ” Check 2: Database connection
  âœ… Database accessible (20 items)
...
âœ… Test flow completed successfully!
```

**è€—æ—¶**: ~5sï¼ˆè·³è¿‡ç¼–è¯‘ï¼‰

### åœºæ™¯ 3: ç‹¬ç«‹å¥åº·æ£€æŸ¥

```bash
$ make health-check

================================
Scopy Health Checks
================================
ğŸ” Check 1: Process is running
  âœ… Process running (PID: 99979)
ğŸ” Check 2: Database connection
  âœ… Database accessible (20 items)
ğŸ” Check 3: Menu bar icon
  âœ… App running (menu bar icon should be visible)
ğŸ” Check 4: Log output
  âš ï¸  Found potential errors in logs:
2025-11-27 12:18:24.429 Df Scopy[99979:c5a92f] [com.apple.launchservices:default] LSExceptions shared instance invalidated for timeout.
ğŸ” Check 5: Global hotkey (â‡§âŒ˜C)
  âš ï¸  Please manually test â‡§âŒ˜C to verify hotkey
ğŸ” Check 6: Memory usage
  âœ… Memory usage: 64.23MB

================================
âœ… All health checks passed!
================================
```

**è€—æ—¶**: ~1sï¼ˆä»…æ£€æŸ¥ï¼Œæ— ç¼–è¯‘/å®‰è£…ï¼‰

---

## ğŸ§ª æµ‹è¯•éªŒè¯ç»“æœ

### éªŒæ”¶æ ‡å‡†æ£€æŸ¥è¡¨

| æ ‡å‡† | æµ‹è¯•ç»“æœ | å¤‡æ³¨ |
|------|---------|------|
| `make test-flow` æˆåŠŸè¿è¡Œ | âœ… PASS | å®Œæ•´æµç¨‹é€šè¿‡ï¼ŒPID: 99615, 99979 |
| å¥åº·æ£€æŸ¥é€šè¿‡ 6 é¡¹ | âœ… PASS | æ‰€æœ‰ 6 é¡¹æ£€æŸ¥é€šè¿‡ |
| é”™è¯¯æ—¶è‡ªåŠ¨å›æ»š | âœ… LOGIC | è„šæœ¬é€»è¾‘éªŒè¯æ­£ç¡® (trap + rollback) |
| æ—¥å¿—è¾“å‡ºæ¸…æ™°æ˜“è¯» | âœ… PASS | emoji + ç»“æ„åŒ–è¾“å‡ºï¼Œæ˜“äºç†è§£ |
| `make test-flow-quick` å·¥ä½œ | âœ… PASS | æˆåŠŸè·³è¿‡ç¼–è¯‘ï¼Œè€—æ—¶ 5s |
| `make health-check` å·¥ä½œ | âœ… PASS | ç‹¬ç«‹è¿è¡Œï¼Œè€—æ—¶ 1s |

### æ€§èƒ½æŒ‡æ ‡

| åœºæ™¯ | è€—æ—¶ | æ­¥éª¤æ•° |
|------|------|--------|
| å®Œæ•´æµç¨‹ (test-flow) | ~30s | æ€è¿›ç¨‹ + å¤‡ä»½ + ç¼–è¯‘ + å®‰è£… + å¯åŠ¨ + æ£€æŸ¥ |
| å¿«é€Ÿæµç¨‹ (test-flow-quick) | ~5s | æ€è¿›ç¨‹ + å¤‡ä»½ + å®‰è£… + å¯åŠ¨ + æ£€æŸ¥ |
| å¥åº·æ£€æŸ¥ (health-check) | ~1s | 6 é¡¹æ£€æŸ¥ |

### æ•°æ®éªŒè¯

- **æ•°æ®åº“**: å¥åº·æ£€æŸ¥éªŒè¯ SQLite è¿æ¥æˆåŠŸï¼ŒæŠ¥å‘Š 19-20 items
- **å†…å­˜ä½¿ç”¨**: 64-76 MB (å‡åœ¨æ­£å¸¸èŒƒå›´å†… < 500MB)
- **è¿›ç¨‹ç®¡ç†**: TERM â†’ KILL æµç¨‹éªŒè¯æ­£ç¡®ï¼Œè¿›ç¨‹èƒ½è¢«æ­£ç¡®æ€æ­»

---

## âš ï¸ é—ç•™é—®é¢˜ä¸æ”¹è¿›ç‚¹

### Issue #1: å¿«æ·é”®éªŒè¯å›°éš¾ (âš ï¸ å·²è®°å½•)

**ç—‡çŠ¶**: Check 5 (å¿«æ·é”®) æ— æ³•é€šè¿‡æ—¥å¿—éªŒè¯
**åŸå› **: HotKeyService æ—¥å¿—åœ¨åº”ç”¨å¯åŠ¨æ—©æœŸï¼Œè¿è¡Œå¥åº·æ£€æŸ¥æ—¶å¯èƒ½å·²è¿‡æœŸ
**å½“å‰å¤„ç†**: è·³è¿‡è‡ªåŠ¨éªŒè¯ï¼Œè¦æ±‚æ‰‹åŠ¨æµ‹è¯• â‡§âŒ˜C
**å»ºè®®æ”¹è¿›**:
- åœ¨åº”ç”¨è¿è¡ŒæœŸé—´æŒç»­ç›‘å¬å¿«æ·é”®äº‹ä»¶
- æˆ–åœ¨ HotKeyService ä¸­æ·»åŠ æµ‹è¯•é’©å­
- è®¡åˆ’åœ¨ Phase 2 (HotKeyService æµ‹è¯•) è§£å†³

### Issue #2: LaunchServices è¶…æ—¶è­¦å‘Š

**ç—‡çŠ¶**: æ—¥å¿—ä¸­å‡ºç° "LSExceptions shared instance invalidated for timeout"
**å½±å“**: éè‡´å‘½ï¼Œä¸å½±å“åŠŸèƒ½
**åŸå› **: macOS LaunchServices çš„æ­£å¸¸è¡Œä¸º
**å½“å‰å¤„ç†**: åœ¨ Check 4 ä¸­æ£€æµ‹ä½†ä¸å¤±è´¥
**å»ºè®®æ”¹è¿›**: å¯é…ç½®æ—¥å¿—è¿‡æ»¤çº§åˆ«

### Issue #3: å†…å­˜æ£€æŸ¥ä¸­çš„è¾¹ç•Œæƒ…å†µ

**ç—‡çŠ¶**: è¿›ç¨‹åˆšé€€å‡ºæ—¶ `ps -o rss` å¯èƒ½è¿”å›ç©º
**è§£å†³**: v1.1 ç‰ˆæœ¬æ·»åŠ äº† `2>/dev/null` å’Œå­˜åœ¨æ€§æ£€æŸ¥
**ä»£ç **:
```bash
MEM_KB=$(ps -o rss= -p $PID 2>/dev/null | awk '{print $1}')
[ -z "$MEM_KB" ] && { log_warn "Cannot read memory"; return 0; }
```

---

## ğŸ“¦ äº¤ä»˜æ¸…å•

### æ–‡ä»¶åˆ—è¡¨

```
scripts/
â”œâ”€â”€ test-flow.sh          âœ… 400 è¡Œï¼Œå®Œæ•´æµ‹è¯•æµç¨‹
â”œâ”€â”€ health-check.sh       âœ… 150 è¡Œï¼Œ6 é¡¹å¥åº·æ£€æŸ¥
â””â”€â”€ [README.md å¾…è¡¥å……]    ğŸ”² ä½¿ç”¨æ–‡æ¡£

Makefile                  âœ… +15 è¡Œï¼Œé›†æˆ 3 ä¸ªå‘½ä»¤
doc/implemented-doc/
â””â”€â”€ v0.5-phase1.md        âœ… æœ¬æ–‡æ¡£
```

### ä»£ç è´¨é‡

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| Bash è„šæœ¬è¡Œæ•° | 550 |
| å‡½æ•°æ•°é‡ | 12 (test-flow.sh) + 7 (health-check.sh) = 19 |
| é”™è¯¯å¤„ç†è¦†ç›– | ~85% (trap, å­˜åœ¨æ€§æ£€æŸ¥, ç®¡é“æ£€æŸ¥) |
| æ—¥å¿—è¾“å‡ºè¯¦åº¦ | é«˜ (emoji + ç»“æ„åŒ–) |
| æ³¨é‡Šè¦†ç›–ç‡ | ~40% (å…³é”®é€»è¾‘æ³¨é‡Š) |

---

## ğŸ”„ ä¾èµ–å…³ç³»

### ä¾èµ–çš„å¤–éƒ¨å·¥å…·

| å·¥å…· | ç”¨é€” | æœ€å°ç‰ˆæœ¬ |
|------|------|---------|
| xcodebuild | ç¼–è¯‘åº”ç”¨ | Xcode 15.0+ |
| xcodegen | é¡¹ç›®ç”Ÿæˆ | å·²åœ¨ make setup å¤„ç† |
| sqlite3 | æ•°æ®åº“æŸ¥è¯¢ | macOS è‡ªå¸¦ |
| pgrep | è¿›ç¨‹æŸ¥è¯¢ | macOS è‡ªå¸¦ |
| log show | ç³»ç»Ÿæ—¥å¿— | macOS è‡ªå¸¦ |
| ps | è¿›ç¨‹ä¿¡æ¯ | macOS è‡ªå¸¦ |

### ä¸å…¶ä»– Phase çš„å…³ç³»

```
Phase 1 (å½“å‰)
  â””â”€ æä¾›è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
     â†“
Phase 2-3 (æœåŠ¡å±‚æµ‹è¯•)
  â””â”€ åœ¨ Phase 1 åŸºç¡€ä¸Šæ·»åŠ å•å…ƒæµ‹è¯•
Phase 4-5 (UI æµ‹è¯• + CI/CD)
  â””â”€ ä½¿ç”¨ Phase 1 çš„ test-flow åœ¨ GitHub Actions ä¸­é›†æˆ
```

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- CLAUDE.md: é¡¹ç›®æŒ‡å¯¼æ–‡æ¡£
- v0.md: Phase 1 è§„æ ¼ (æµ‹è¯•æµç¨‹è‡ªåŠ¨åŒ–)
- Makefile: å®Œæ•´å‘½ä»¤å®šä¹‰

---

## âœ¨ å…³é”®æˆå°±

### å¼€å‘æ•ˆç‡æå‡

- **ä¹‹å‰**: æ‰‹åŠ¨æ€è¿›ç¨‹ â†’ æ‰“å¼€ Xcode â†’ Build â†’ ç­‰å¾… â†’ æ‰‹åŠ¨å¯åŠ¨
- **ä¹‹å**: `make test-flow` ä¸€è¡Œå‘½ä»¤ï¼Œ30s å®Œæˆå…¨è¿‡ç¨‹

### æ•…éšœæ¢å¤

- è‡ªåŠ¨å¤‡ä»½æœºåˆ¶
- é”™è¯¯æ—¶è‡ªåŠ¨å›æ»š
- ç¯å¢ƒå§‹ç»ˆä¿æŒå¹²å‡€

### æ˜“ç”¨æ€§

- Emoji æŒ‡ç¤ºå™¨ï¼Œä¸€ç›®äº†ç„¶
- è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
- 3 ä¸ªå‘½ä»¤å¯åº”å¯¹ä¸åŒåœºæ™¯ (å®Œæ•´/å¿«é€Ÿ/æ£€æŸ¥)

---

## ğŸ“… ç‰ˆæœ¬å†å²

### v0.5-Phase 1.0 (2025-11-27)

- âœ… test-flow.sh å®ç°
- âœ… health-check.sh å®ç°
- âœ… Makefile é›†æˆ
- âœ… å®Œæ•´éªŒè¯æµ‹è¯•

### v0.5-Phase 1.1 (2025-11-27)

- ğŸ”§ ä¿®å¤ health-check.sh ä¸­çš„å†…å­˜æ£€æŸ¥è¾¹ç•Œæƒ…å†µ
- â¬†ï¸ æ”¹è¿›è¿›ç¨‹å­˜åœ¨æ€§æ£€æŸ¥çš„å®¹é”™æ€§

---

## ğŸ“ æœ€ä½³å®è·µ

### ä½¿ç”¨å»ºè®®

1. **æ—¥å¸¸å¼€å‘**: ä½¿ç”¨ `make test-flow-quick` å¿«é€ŸéªŒè¯
2. **æäº¤å‰**: ä½¿ç”¨ `make test-flow` å®Œæ•´éªŒè¯
3. **è°ƒè¯•æœŸé—´**: ä½¿ç”¨ `make health-check` å¿«é€Ÿæ£€æŸ¥åº”ç”¨çŠ¶æ€

### æ•…éšœæ’æŸ¥

```bash
# æŸ¥çœ‹ç¼–è¯‘æ—¥å¿—
cat /tmp/scopy-build.log

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
cat /tmp/scopy-launch.log

# æ‰‹åŠ¨æ€æ­»åº”ç”¨
pkill -9 Scopy

# æŸ¥çœ‹åº”ç”¨æ˜¯å¦è¿è¡Œ
pgrep -f "Scopy.app/Contents/MacOS/Scopy"
```

---

**æ–‡æ¡£å®Œæˆæ—¥æœŸ**: 2025-11-27
**ä¸‹ä¸€æ­¥è®¡åˆ’**: Phase 2 (HotKeyService å’Œ PerformanceProfiler å•å…ƒæµ‹è¯•)
