# v0.50.fix5

> çŠ¶æ€ï¼šâœ…
> è¯´æ˜ï¼šå› è¿œç«¯ `v0.50.fix4` tag å·²å­˜åœ¨ï¼Œæœ¬æ¬¡æ”¹ç”¨ `v0.50.fix5` é‡æ–°å‘å¸ƒï¼ˆå†…å®¹ä¸€è‡´ï¼‰ã€‚

## ğŸ“Œ ä¸€é¡µçº¸æ€»ç»“ï¼ˆWhat / Why / Resultï¼‰

### What

- Refactor/Appï¼šå¯åŠ¨æµç¨‹æ‹†åˆ†ï¼ŒèŒè´£æ›´æ¸…æ™°ã€‚
- Refactor/Previewï¼šé¢„è§ˆæ¸…ç†é€»è¾‘é›†ä¸­ï¼Œé¿å…çŠ¶æ€é—æ¼ã€‚
- Refactor/Serviceï¼šå¤åˆ¶è·¯å¾„æ‹†åˆ†ä¸º helperï¼Œç»“æ„æ›´ç›´è§‚ã€‚
- Refactor/Infraï¼šç¼“å­˜å¤±æ•ˆé€»è¾‘ç»Ÿä¸€å°è£…ã€‚
- Refactor/Utilitiesï¼šé˜Ÿåˆ—æ”¹ä¸º ring bufferï¼Œå‡ºé˜Ÿ O(1)ã€‚
- Refactor/Observablesï¼šä»»åŠ¡å–æ¶ˆä¸è¿‡æ»¤åˆ¤æ–­æ”¶æ•›ï¼Œæ€§èƒ½æŒ‡æ ‡æ ¼å¼åŒ–ç»Ÿä¸€ã€‚
- Docsï¼šæ–°å¢ä»£ç ä¼˜é›…æ€§æ·±åº¦ review æ–‡æ¡£ã€‚

### Why

- ä¸»æµç¨‹ä¸ç”Ÿå‘½å‘¨æœŸé€»è¾‘è¿‡äºé›†ä¸­ï¼Œç»´æŠ¤ä¸å›å½’æˆæœ¬é«˜ã€‚
- å¤šå¤„é‡å¤é€»è¾‘æ˜“æ¼å­—æ®µæˆ–é€ æˆè¡Œä¸ºä¸ä¸€è‡´ã€‚
- å…³é”®å·¥å…·ç±»åœ¨é«˜é¢‘è·¯å¾„ä¸Šå­˜åœ¨æ€§èƒ½é€€åŒ–é£é™©ã€‚

### Result

- å…¥å£å‡½æ•°å¤æ‚åº¦ä¸‹é™ï¼ŒèŒè´£è¾¹ç•Œæ›´æ˜ç¡®ã€‚
- çŠ¶æ€æ¸…ç†ä¸ç¼“å­˜é€»è¾‘é›†ä¸­ï¼Œå‡å°‘æ½œåœ¨å›å½’ç‚¹ã€‚
- é˜Ÿåˆ—æ€§èƒ½ç¨³å®šï¼Œå•æµ‹å…¨é‡é€šè¿‡ã€‚

---

## ğŸ“‚ æ ¸å¿ƒæ”¹åŠ¨

- `Scopy/AppDelegate.swift`
  - å¯åŠ¨/çª—å£/äº‹ä»¶ç›‘æ§æ‹†åˆ†ä¸ºç§æœ‰ helperã€‚
- `Scopy/Views/History/HistoryItemView.swift`
  - hover/scroll æ¸…ç†é›†ä¸­åˆ° reset é€»è¾‘ã€‚
- `Scopy/Views/History/HoverPreviewModel.swift`
  - æ–°å¢ç»Ÿä¸€ resetã€‚
- `Scopy/Application/ClipboardService.swift`
  - å¤åˆ¶é€»è¾‘æ‹†åˆ†ä¸ºå¤š helperã€‚
- `Scopy/Infrastructure/Search/SearchEngineImpl.swift`
  - ç¼“å­˜å¤±æ•ˆé€»è¾‘æ”¶æ•›ä¸º helperã€‚
- `Scopy/Utilities/AsyncBoundedQueue.swift`
  - ring buffer å‡ºé˜Ÿ O(1)ã€‚
- `Scopy/Observables/HistoryViewModel.swift`
  - ä»»åŠ¡å–æ¶ˆ/è¿‡æ»¤åˆ¤æ–­ helper åŒ–ã€‚
- `Scopy/Observables/PerformanceMetrics.swift`
  - å»¶è¿Ÿæ ¼å¼åŒ–ç»Ÿä¸€ã€‚
- `Scopy/Views/History/MarkdownPreviewWebView.swift`
  - message è§£æç»Ÿä¸€å°è£…ã€‚
- `Scopy/Services/StorageService.swift`
  - ç›®å½•åˆ›å»ºé€»è¾‘æ”¶æ•›ã€‚
- `doc/implemented-doc/review/elegance-review.md`
  - æ–°å¢ä¼˜é›…æ€§æ·±åº¦ review æ–‡æ¡£ã€‚

---

## ğŸ¯ æµ‹è¯•

- å•å…ƒæµ‹è¯•ï¼š`xcodebuild test -scheme Scopy -destination 'platform=macOS' -only-testing:ScopyTests` âœ…ï¼ˆExecuted 260 tests, 25 skipped, 0 failuresï¼‰

---

## ğŸ”® é—ç•™ä¸åç»­

- UI tests æœªå¤éªŒï¼ˆæœ¬æœº UI automation æœªå°±ç»ªæ—¶éœ€è·³è¿‡ï¼‰ã€‚
