# v0.43.3 性能对比（v0.43.2 → v0.43.3）

**日期**: 2025-12-14

## 对比版本

- v0.43.2 → v0.43.3

## 测试环境

- 设备：MacBook Air（Apple M3, 24 GB）
- 系统：macOS 15.7.2（24G325）
- 架构：arm64
- 配置：Debug
- 命令：`make test-perf`（`RUN_PERF_TESTS=1`）
- 电源：Low Power Mode enabled（`pmset -g` 显示 `lowpowermode 1`）
- 备注：heavy 场景需 `RUN_HEAVY_PERF_TESTS=1` 才运行

## 性能对比表格

| 指标 | v0.43.2 | v0.43.3 |
|------|--------:|--------:|
| Fuzzy 5k items P95 | 8.45ms | 9.09ms |
| Fuzzy 10k items P95 | 78.50ms（Samples: 50；Low Power Mode enabled） | 81.33ms（Samples: 50；Low Power Mode enabled） |
| Disk 25k fuzzy P95 | 104.57ms（Samples: 50；Low Power Mode enabled） | 108.45ms（Samples: 50；Low Power Mode enabled） |
| Bulk insert 1000 items | 83.76ms（≈11,940 items/s；Low Power Mode enabled） | 85.31ms（≈11,721 items/s；Low Power Mode enabled） |
| Fetch recent (50 items) avg | 0.12ms | 0.11ms |
| Regex 20k items P95 | 5.20ms | 5.54ms |
| Mixed content disk search（single run） | 7.31ms | 7.59ms |

## 测试用例变化

- 无（本版本为短词全量搜索校准修复与 UI 滚动期降载；perf 用例集合未变）。

## 性能回归说明

- 核心存储/搜索热路径未做结构性改动；指标小幅波动更可能来自 Low Power Mode 与系统抖动。
- 若需要进一步评估“短词全量 refine”的体感与功耗，可补充更贴近真实交互的 UI/端到端采样（例如滚动帧率与搜索输入过程的 CPU 使用）。

## 总结

- v0.43.3 的重点是“保证最终精度”的渐进策略回归（短词先 cache 后全量校准）与滚动期 UI 降载；性能数据整体在噪声范围内波动。

