# v0.43 性能对比（v0.42 → v0.43）

**日期**: 2025-12-13

## 对比版本

- v0.42 → v0.43

## 测试环境

- 设备：Apple M3
- 系统：macOS 15.7.2（24G325）
- 架构：arm64
- 配置：Debug
- 命令：`make test-perf`（`RUN_PERF_TESTS=1`）
- 备注：heavy 场景需 `RUN_HEAVY_PERF_TESTS=1` 才运行

## 性能对比表格

| 指标 | v0.42 | v0.43 |
|------|------:|------:|
| Fuzzy 5k items P95 | 4.69ms | 7.11ms |
| Fuzzy 10k items P95 | 43.60ms（Samples: 50） | 51.88ms（Samples: 50） |
| Disk 25k fuzzy P95 | 56.61ms（Samples: 50） | 72.74ms（Samples: 50） |
| Bulk insert 1000 items | 51.70ms（≈19,342 items/s） | 60.26ms（≈16,595 items/s） |
| Fetch recent (50 items) avg | 0.07ms | 0.08ms |
| Regex 20k items P95 | 3.11ms | 3.87ms |
| Mixed content disk search（single run） | 4.24ms | 6.10ms |

## 测试用例变化

- 无（v0.43 为模块边界/构建体系重构，不改运行时路径与用例集合）。

## 性能回归说明

- 本次变更以“强制 module 边界”为主，逻辑路径未做针对性性能优化；本次单次运行中多项指标较 v0.42 有上浮。
- 目前数值仍满足 `doc/specs/v0.md` 的 SLO（≤5k P95 ≤50ms；10k–100k 首屏 P95 ≤100–150ms），建议后续通过多次采样/对照运行确认是否为系统抖动或需要进一步优化。

## 总结

- v0.43 完成了 ScopyKit module 强制边界（后端从 App target 移出）；性能指标在本次单次运行中上浮，但仍在目标范围内。

