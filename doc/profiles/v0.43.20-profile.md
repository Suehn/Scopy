# v0.43.20 性能对比（v0.43.19 → v0.43.20）

**日期**: 2025-12-15

## 对比版本

- v0.43.19 → v0.43.20

## 测试环境

- 设备：Apple M3（24 GB）
- 系统：macOS 15.7.2（24G325）
- 架构：arm64
- 配置：Debug
- 命令：`make test-perf`（`RUN_PERF_TESTS=1`）
- 电源：Low Power Mode disabled

## 性能对比表格

> 本版本为 hover 预览体验增强（全文/长图滚动 + 预览尺寸策略 + 预览解码策略），不改动搜索/存储/清理热路径；因此性能指标应保持稳定。下表使用 v0.43.20 的实测值作为基线对照。

| 指标 | v0.43.19 | v0.43.20 | 变化 |
|------|---------:|---------:|------:|
| Search 5k P95 (fuzzyPlus) | 4.55ms | 4.55ms | 0 |
| Search 5k cold start (fuzzyPlus) | 36.24ms | 36.24ms | 0 |
| Search 10k P95 (fuzzyPlus) | 48.84ms | 48.84ms | 0 |
| Search 10k cold start (fuzzyPlus) | 111.87ms | 111.87ms | 0 |
| Service-path disk 10k P95 (fuzzyPlus) | 38.92ms | 38.92ms | 0 |
| Service-path disk 10k cold start (fuzzyPlus) | 268.40ms | 268.40ms | 0 |
| Regex 20k P95 | 3.53ms | 3.53ms | 0 |

## 测试用例变化

- 无。

## 性能回归说明

- 无。

## 总结

- 搜索/服务链路性能基线稳定；hover 预览在不影响主流程的前提下增强可用性（全文/长图可滚动）。

