# v0.50.fix16

> çŠ¶æ€ï¼šâœ…
> è¯´æ˜ï¼šFix/Storageï¼šæ–°å¢â€œä»…æ¸…ç†å›¾ç‰‡ï¼ˆæ–‡æœ¬æ°¸ä¹…ä¿ç•™ï¼‰â€é€‰é¡¹ï¼›å¼€å¯åè‡ªåŠ¨æ¸…ç†åªåˆ é™¤å›¾ç‰‡æ¡ç›®ï¼ˆåŠå…¶ `content/` å¤–éƒ¨ payloadï¼‰ï¼Œé¿å…å› å®¹é‡ä¸Šé™å¯¼è‡´æ–‡æœ¬å†å²è¢«æ¸…ç†ã€‚

## ğŸ“Œ ä¸€é¡µçº¸æ€»ç»“ï¼ˆWhat / Why / Resultï¼‰

### What

- Fix/Storageï¼šæ–°å¢å­˜å‚¨è®¾ç½®é¡¹ **â€œä»…æ¸…ç†å›¾ç‰‡ï¼ˆæ–‡æœ¬æ°¸ä¹…ä¿ç•™ï¼‰â€**ï¼ˆé»˜è®¤å…³é—­ï¼‰ã€‚
- Fix/Storageï¼šå¼€å¯åï¼Œè‡ªåŠ¨æ¸…ç†ï¼ˆæŒ‰æ¡æ•°/æŒ‰å†…å®¹ä¼°ç®—ä¸Šé™/æŒ‰å¤–éƒ¨å­˜å‚¨ä¸Šé™/æŒ‰å¤©æ•°ï¼‰ä»…ä½œç”¨äº **æœª Pinned çš„å›¾ç‰‡æ¡ç›®**ï¼›æ–‡æœ¬/RTF/HTML/file ç­‰æ¡ç›®ä¸å†è¢«è‡ªåŠ¨åˆ é™¤ã€‚

### Why

- çœŸå®ä½¿ç”¨ä¸­â€œå†…å®¹ä¼°ç®—ä¸Šé™ / å¤–éƒ¨å­˜å‚¨ä¸Šé™â€æ›´å®¹æ˜“è¢«å›¾ç‰‡å æ»¡ï¼›æ—§ç­–ç•¥ä¼šæŒ‰ `last_used_at` åˆ é™¤è¾ƒæ—§æ¡ç›®ï¼Œå¯¼è‡´ç”¨æˆ·è¯¯ä»¥ä¸ºâ€œæ–‡æœ¬å†å²ä¸¢å¤±â€ã€‚
- å¯¹å¤šæ•°ç”¨æˆ·è€Œè¨€ï¼Œæ–‡æœ¬å†å²çš„ä»·å€¼æ›´é«˜ï¼›å›¾ç‰‡å±äºé«˜å ç”¨å†…å®¹ï¼Œæ›´é€‚åˆä½œä¸ºä¼˜å…ˆæ¸…ç†å¯¹è±¡ã€‚

### Result

- å¼€å¯è¯¥é€‰é¡¹åï¼šæ–‡æœ¬å†å²å¯é•¿æœŸä¿ç•™ï¼›å½“éœ€è¦é‡Šæ”¾ç©ºé—´æ—¶ï¼Œä¼˜å…ˆåˆ é™¤æ—§å›¾ç‰‡åŠå…¶ `content/` payloadã€‚
- è¡Œä¸ºä¿æŒä¸å˜ï¼šPinned ä»ä¼šè¢«ä¿ç•™ï¼›å…³é—­è¯¥é€‰é¡¹æ—¶ä»æ²¿ç”¨ç°æœ‰â€œæŒ‰æ—¶é—´åˆ é™¤è¾ƒæ—§æ¡ç›®â€çš„é€šç”¨æ¸…ç†ç­–ç•¥ã€‚

> æ³¨æ„ï¼šè‹¥å ç”¨ä¸»è¦æ¥è‡ªæ–‡æœ¬æœ¬èº«æˆ–å¤§é‡ Pinned å›¾ç‰‡ï¼Œå¼€å¯åå¯èƒ½æ— æ³•æŠŠå ç”¨é™åˆ°ä¸Šé™ï¼ˆå› ä¸ºä¸ä¼šåˆ é™¤æ–‡æœ¬/ä¸ä¼šåˆ é™¤ Pinned å›¾ç‰‡ï¼‰ã€‚

---

## ğŸ“‚ æ ¸å¿ƒæ”¹åŠ¨

- `Scopy/Services/StorageService.swift`
- `Scopy/Infrastructure/Persistence/SQLiteClipboardRepository.swift`
- `Scopy/Domain/Models/SettingsDTO.swift`
- `Scopy/Infrastructure/Settings/SettingsStore.swift`
- `Scopy/Views/Settings/StorageSettingsPage.swift`
- `Scopy/Application/ClipboardService.swift`
- `ScopyTests/StorageServiceTests.swift`

---

## âœ… æµ‹è¯•

- `xcodebuild test -scheme Scopy -destination 'platform=macOS' -only-testing:ScopyTests`ï¼šExecuted 273 tests, 25 skipped, 0 failures
- `make release-validate`ï¼šâœ…

