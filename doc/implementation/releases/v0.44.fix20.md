# v0.44.fix20

## 📌 一页纸总结（What / Why / Result）

### What

- Fix/UX：修复 Settings 关闭/保存/取消会导致 Scopy 退出的问题；并调整主窗口默认尺寸为 480×640。

### Why

- Settings 窗口被真正 close 后，菜单栏应用在某些场景下会被系统判定为“无窗口”而退出，用户体验不符合预期。
- 主窗口默认尺寸偏小，首次启动时信息密度不足，且部分内容显示不完整。

### Result

- Settings 的关闭行为改为“隐藏窗口（orderOut）”，关闭按钮与 Save/Cancel 都只会关闭设置窗口，不再退出应用。
- 主窗口（FloatingPanel）初始大小调整为 480×640，仅影响首次展示的默认尺寸。
- Settings 的显式 Save/Cancel 事务模型与设置逻辑保持不变。

---

## 📂 核心改动

- `Scopy/AppDelegate.swift`
  - Settings window 改为 `NSWindowDelegate` 拦截 close，统一隐藏而非销毁；并为 SettingsView 注入 `onDismiss` 关闭回调。
- `Scopy/Views/Settings/SettingsView.swift`
  - Save 成功后触发 `onDismiss`，与 Cancel 行为一致（关闭设置窗口）。
- `Scopy/Design/ScopySize.swift`
  - 主窗口默认尺寸调整为 480×640。

---

## ✅ 测试

- 单元测试：`make test-unit`：Executed 201 tests, 1 skipped, 0 failures

