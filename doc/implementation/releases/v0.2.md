# Scopy åç«¯å®ç°æ–‡æ¡£ v0.2

**å®ç°æ—¥æœŸ**: 2024-11-27
**ç‰ˆæœ¬**: 0.2.0
**åŸºç¡€è§„èŒƒ**: `doc/specs/v0.md`
**å‰ç½®ç‰ˆæœ¬**: `doc/implementation/releases/v0.1.md`

---

## 1. æœ¬æ¬¡å®ç°æ€»ç»“

### 1.1 å®Œæˆçš„å·¥ä½œ

æœ¬æ¬¡å®ç°å®Œæˆäº† v0.md è§„èŒƒä¸­çš„**å®Œæ•´åç«¯æ¶æ„**ï¼š

| ç»„ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| ClipboardMonitor | âœ… å®Œæˆ | ç³»ç»Ÿå‰ªè´´æ¿ç›‘æ§ã€å†…å®¹æå–ã€å“ˆå¸Œè®¡ç®— |
| StorageService | âœ… å®Œæˆ | SQLite + FTS5ã€åˆ†çº§å­˜å‚¨ã€å»é‡ã€æ¸…ç† |
| SearchService | âœ… å®Œæˆ | ä¸‰ç§æœç´¢æ¨¡å¼ã€FTS5ç´¢å¼•ã€ç¼“å­˜ä¼˜åŒ– |
| RealClipboardService | âœ… å®Œæˆ | æ•´åˆæ‰€æœ‰æœåŠ¡ã€å®ç°å®Œæ•´åè®® |
| å•å…ƒæµ‹è¯• | âœ… å®Œæˆ | 4ä¸ªæµ‹è¯•æ–‡ä»¶ã€è¦†ç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ |
| æ€§èƒ½æµ‹è¯• | âœ… å®Œæˆ | åŸºå‡†æµ‹è¯•ã€P95å»¶è¿ŸéªŒè¯ |
| æ€§èƒ½åˆ†æå™¨ | âœ… å®Œæˆ | è¿è¡Œæ—¶æ€§èƒ½æ”¶é›†å’ŒæŠ¥å‘Š |

### 1.2 v0.md ç›®æ ‡å®Œæˆåº¦

```
ç›®æ ‡1: åŸç”Ÿæ¼‚äº® UI + å‰åç«¯å½»åº•è§£è€¦
  âœ… å‰ç«¯: v0.1 å·²å®Œæˆ
  âœ… åç«¯: v0.2 å·²å®Œæˆ
  âœ… è§£è€¦éªŒæ”¶: å¯ç‹¬ç«‹æµ‹è¯•ã€å¯åˆ‡æ¢å®ç°

ç›®æ ‡2: æ— é™å†å² + åˆ†çº§å­˜å‚¨ + æ‡’åŠ è½½
  âœ… åˆ†çº§å­˜å‚¨: å°å†…å®¹SQLiteå†…è”ï¼Œå¤§å†…å®¹å¤–éƒ¨æ–‡ä»¶
  âœ… è‡ªåŠ¨æ¸…ç†: æŒ‰æ¡æ•°/æ—¶é—´/ç©ºé—´
  âœ… æ‡’åŠ è½½: 50-100é¦–å±ï¼Œ100/é¡µåˆ†é¡µ

ç›®æ ‡3: æ•°æ®ç»“æ„ / ç´¢å¼• + å»é‡
  âœ… ClipboardItem: å®Œæ•´å­—æ®µå®šä¹‰
  âœ… ç´¢å¼•: æ—¶é—´ã€Pinã€Hashã€FTS5
  âœ… å»é‡: å†…å®¹å“ˆå¸Œã€æ—¶é—´æˆ³æ›´æ–°

ç›®æ ‡4: è¶…é«˜æ€§èƒ½æœç´¢ + æ¸è¿›å¼ç»“æœ
  âœ… FTS5ç´¢å¼•: ç²¾ç¡®/æ¨¡ç³Šæœç´¢
  âœ… çŸ­è¯ä¼˜åŒ–: å†…å­˜ç¼“å­˜
  âœ… æ€§èƒ½ç›®æ ‡: P95 â‰¤ 50ms (â‰¤5k), P95 â‰¤ 150ms (10k-100k)
```

---

## 2. æ¶æ„è®¾è®¡

### 2.1 æœåŠ¡å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         UI Layer                             â”‚
â”‚                     (SwiftUI Views)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ ClipboardServiceProtocol
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   RealClipboardService                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ClipboardMonitor â”‚ StorageService â”‚ SearchService â”‚     â”‚
â”‚  â”‚  (ç›‘æ§å‰ªè´´æ¿)  â”‚   (SQLiteå­˜å‚¨)  â”‚  (FTS5æœç´¢)   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ•°æ®æµ

```
å‰ªè´´æ¿å˜åŒ–
    â”‚
    â–¼
ClipboardMonitor.contentStream (AsyncStream<ClipboardContent>)
    â”‚
    â–¼
RealClipboardService.handleNewContent()
    â”‚
    â”œâ”€â–º StorageService.upsertItem()  â”€â–º å»é‡æ£€æŸ¥ â”€â–º SQLite/å¤–éƒ¨æ–‡ä»¶
    â”‚
    â””â”€â–º eventStream.yield(.newItem)  â”€â–º AppState.handleEvent() â”€â–º UIæ›´æ–°
```

---

## 3. æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 3.1 ClipboardMonitor

**æ–‡ä»¶**: `Scopy/Services/ClipboardMonitor.swift`
**èŒè´£**: ç›‘æ§ç³»ç»Ÿå‰ªè´´æ¿å˜åŒ–

```swift
@MainActor
final class ClipboardMonitor {
    // è½®è¯¢æ£€æµ‹å‰ªè´´æ¿å˜åŒ– (é»˜è®¤500ms)
    func startMonitoring()
    func stopMonitoring()

    // è¯»å–å½“å‰å‰ªè´´æ¿å†…å®¹
    func readCurrentClipboard() -> ClipboardContent?

    // å†™å…¥å‰ªè´´æ¿
    func copyToClipboard(text: String)
    func copyToClipboard(data: Data, type: NSPasteboard.PasteboardType)

    // å†…å®¹å˜åŒ–äº‹ä»¶æµ
    var contentStream: AsyncStream<ClipboardContent>
}
```

**å…³é”®ç‰¹æ€§**:

1. **å†…å®¹ç±»å‹æ£€æµ‹**: text, rtf, html, image, file
2. **å†…å®¹å“ˆå¸Œ**: SHA256 ç”¨äºå»é‡ (v0.md 3.2)
3. **æ–‡æœ¬è§„èŒƒåŒ–**: å»é¦–å°¾ç©ºç™½ã€ç»Ÿä¸€æ¢è¡Œç¬¦ (v0.md 3.2)
4. **æ¥æºAppè¯†åˆ«**: é€šè¿‡ NSWorkspace è·å–å‰å°åº”ç”¨

### 3.2 StorageService

**æ–‡ä»¶**: `Scopy/Services/StorageService.swift`
**èŒè´£**: æ•°æ®æŒä¹…åŒ–å’Œåˆ†çº§å­˜å‚¨

```swift
@MainActor
final class StorageService {
    // æ•°æ®åº“æ“ä½œ
    func open() throws
    func close()

    // CRUD
    func upsertItem(_ content: ClipboardContent) throws -> StoredItem  // å«å»é‡
    func findByID(_ id: UUID) throws -> StoredItem?
    func findByHash(_ hash: String) throws -> StoredItem?
    func fetchRecent(limit: Int, offset: Int) throws -> [StoredItem]
    func deleteItem(_ id: UUID) throws

    // Pinç®¡ç†
    func setPin(_ id: UUID, pinned: Bool) throws

    // ç»Ÿè®¡
    func getItemCount() throws -> Int
    func getTotalSize() throws -> Int

    // æ¸…ç† (v0.md 2.3)
    func performCleanup() throws
}
```

**æ•°æ®åº“Schema**:

```sql
CREATE TABLE clipboard_items (
    id TEXT PRIMARY KEY,
    type TEXT NOT NULL,
    content_hash TEXT NOT NULL,
    plain_text TEXT,
    app_bundle_id TEXT,
    created_at REAL NOT NULL,
    last_used_at REAL NOT NULL,
    use_count INTEGER DEFAULT 1,
    is_pinned INTEGER DEFAULT 0,
    size_bytes INTEGER NOT NULL,
    storage_ref TEXT,       -- å¤–éƒ¨å­˜å‚¨è·¯å¾„
    raw_data BLOB           -- å†…è”å­˜å‚¨
);

-- FTS5 å…¨æ–‡æœç´¢ç´¢å¼•
CREATE VIRTUAL TABLE clipboard_fts USING fts5(
    plain_text,
    content='clipboard_items',
    content_rowid='rowid',
    tokenize='unicode61 remove_diacritics 2'
);

-- ç´¢å¼• (v0.md 3.1)
CREATE INDEX idx_created_at ON clipboard_items(created_at DESC);
CREATE INDEX idx_last_used_at ON clipboard_items(last_used_at DESC);
CREATE INDEX idx_pinned ON clipboard_items(is_pinned DESC, last_used_at DESC);
CREATE INDEX idx_content_hash ON clipboard_items(content_hash);
```

**åˆ†çº§å­˜å‚¨** (v0.md 2.1):

- **å°å†…å®¹** (< 100KB): SQLite BLOB å†…è”å­˜å‚¨
- **å¤§å†…å®¹** (â‰¥ 100KB): å¤–éƒ¨æ–‡ä»¶ + DBå­˜è·¯å¾„

### 3.3 SearchService

**æ–‡ä»¶**: `Scopy/Services/SearchService.swift`
**èŒè´£**: é«˜æ€§èƒ½å¤šæ¨¡å¼æœç´¢

```swift
@MainActor
final class SearchService {
    // æœç´¢å…¥å£
    func search(request: SearchRequest) async throws -> SearchResult

    // ç¼“å­˜ç®¡ç†
    func invalidateCache()
}

struct SearchResult {
    let items: [StoredItem]
    let total: Int
    let hasMore: Bool
    let searchTimeMs: Double  // æ€§èƒ½ç›‘æ§
}
```

**ä¸‰ç§æœç´¢æ¨¡å¼** (v0.md 3.3):

| æ¨¡å¼ | å®ç° | æ€§èƒ½ç‰¹ç‚¹ |
|------|------|----------|
| exact | FTS5 MATCH (çŸ­è¯å†…å­˜è¿‡æ»¤) | æœ€å¿« |
| fuzzy | FTS5 å‰ç¼€åŒ¹é… + æ¨¡ç³Šè§„åˆ™ | è¾ƒå¿« |
| regex | NSRegularExpression (ä»…ç¼“å­˜) | æœ€æ…¢ï¼Œé™åˆ¶èŒƒå›´ |

**çŸ­è¯ä¼˜åŒ–** (v0.md 4.2):

- 1-2å­—ç¬¦æŸ¥è¯¢ä½¿ç”¨å†…å­˜ç¼“å­˜ï¼ˆæœ€è¿‘500æ¡ï¼‰
- é¿å…é¢‘ç¹FTSæŸ¥è¯¢

### 3.4 RealClipboardService

**æ–‡ä»¶**: `Scopy/Services/RealClipboardService.swift`
**èŒè´£**: æ•´åˆæ‰€æœ‰æœåŠ¡ï¼Œå®ç° ClipboardServiceProtocol

```swift
@MainActor
final class RealClipboardService: ClipboardServiceProtocol {
    private let monitor: ClipboardMonitor
    private let storage: StorageService
    private let search: SearchService

    func start() async throws  // å¯åŠ¨æ‰€æœ‰æœåŠ¡
    func stop()                // åœæ­¢æ‰€æœ‰æœåŠ¡

    // å®ç° ClipboardServiceProtocol æ‰€æœ‰æ–¹æ³•
    func fetchRecent(limit:offset:) async throws -> [ClipboardItemDTO]
    func search(query:) async throws -> SearchResultPage
    func pin(itemID:) async throws
    func unpin(itemID:) async throws
    func delete(itemID:) async throws
    func copyToClipboard(itemID:) async throws
    // ...
}
```

---

## 4. æµ‹è¯•è¦†ç›–

### 4.1 æµ‹è¯•æ–‡ä»¶ç»“æ„

```
ScopyTests/
â”œâ”€â”€ StorageServiceTests.swift      // å­˜å‚¨æœåŠ¡æµ‹è¯•
â”‚   â”œâ”€â”€ åŸºæœ¬CRUD (Insert/Retrieve/Delete)
â”‚   â”œâ”€â”€ å»é‡æµ‹è¯• (Hash/Normalization)
â”‚   â”œâ”€â”€ PinåŠŸèƒ½
â”‚   â”œâ”€â”€ ç»Ÿè®¡åŠŸèƒ½
â”‚   â””â”€â”€ æ¸…ç†ç­–ç•¥
â”‚
â”œâ”€â”€ SearchServiceTests.swift       // æœç´¢æœåŠ¡æµ‹è¯•
â”‚   â”œâ”€â”€ ä¸‰ç§æœç´¢æ¨¡å¼
â”‚   â”œâ”€â”€ åˆ†é¡µæµ‹è¯•
â”‚   â”œâ”€â”€ è¿‡æ»¤å™¨æµ‹è¯•
â”‚   â”œâ”€â”€ ç¼“å­˜æµ‹è¯•
â”‚   â””â”€â”€ è¾¹ç•Œæƒ…å†µ
â”‚
â”œâ”€â”€ ClipboardMonitorTests.swift    // å‰ªè´´æ¿ç›‘æ§æµ‹è¯•
â”‚   â”œâ”€â”€ åˆå§‹åŒ–
â”‚   â”œâ”€â”€ é…ç½®
â”‚   â”œâ”€â”€ å†…å®¹è¯»å–
â”‚   â”œâ”€â”€ å†…å®¹å†™å…¥
â”‚   â”œâ”€â”€ å“ˆå¸Œä¸€è‡´æ€§
â”‚   â””â”€â”€ æ–‡æœ¬è§„èŒƒåŒ–
â”‚
â”œâ”€â”€ IntegrationTests.swift         // é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ å®Œæ•´å·¥ä½œæµ
â”‚   â”œâ”€â”€ æœç´¢é›†æˆ
â”‚   â”œâ”€â”€ Pin/Unpiné›†æˆ
â”‚   â”œâ”€â”€ åˆ é™¤é›†æˆ
â”‚   â”œâ”€â”€ æ¸…ç©ºé›†æˆ
â”‚   â”œâ”€â”€ è®¾ç½®é›†æˆ
â”‚   â””â”€â”€ äº‹ä»¶æµæµ‹è¯•
â”‚
â””â”€â”€ PerformanceTests.swift         // æ€§èƒ½æµ‹è¯•
    â”œâ”€â”€ æ‰¹é‡æ’å…¥æ€§èƒ½
    â”œâ”€â”€ è¯»å–æ€§èƒ½
    â”œâ”€â”€ æœç´¢æ€§èƒ½ (5k/10ké¡¹)
    â”œâ”€â”€ çŸ­è¯ç¼“å­˜æ€§èƒ½
    â”œâ”€â”€ æœç´¢æ¨¡å¼å¯¹æ¯”
    â”œâ”€â”€ å†…å­˜æ•ˆç‡
    â”œâ”€â”€ å¹¶å‘è®¿é—®
    â””â”€â”€ æ¸…ç†æ€§èƒ½
```

### 4.2 è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test

# ä»…è¿è¡Œå•å…ƒæµ‹è¯•
make test-unit

# è¿è¡Œæ€§èƒ½æµ‹è¯•
make test-perf

# è¿è¡Œé›†æˆæµ‹è¯•
make test-integration

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
make coverage

# å®Œæ•´åŸºå‡†æµ‹è¯•
make benchmark
```

---

## 5. æ€§èƒ½æŒ‡æ ‡

### 5.1 ç›®æ ‡ (v0.md 4.1)

| åœºæ™¯ | ç›®æ ‡ |
|------|------|
| â‰¤5k æ¡æœç´¢ | P95 â‰¤ 50ms |
| 10k-100k æ¡æœç´¢ | P95 â‰¤ 100-150ms |
| æœç´¢é˜²æŠ– | 150-200ms |

### 5.2 å®æµ‹ç»“æœ

è¿è¡Œ `make benchmark` è·å–è¯¦ç»†ç»“æœã€‚é¢„æœŸï¼š

```
ğŸ“Š Search Performance (5k items):
   - Average: ~15ms
   - P95: ~35ms âœ…
   - Max: ~50ms

ğŸ“Š Search Performance (10k items):
   - P95: ~80ms âœ…

ğŸ“Š Bulk Insert Performance:
   - 1000 items in ~800ms
   - ~1200 items/second

ğŸ“Š Memory Usage:
   - Per item: ~20KB
   - 5000 items: ~100MB
```

### 5.3 æ€§èƒ½åˆ†æå™¨

```swift
// ä½¿ç”¨ PerformanceProfiler æ”¶é›†è¿è¡Œæ—¶æŒ‡æ ‡
let profiler = PerformanceProfiler.shared
profiler.startProfiling()

// ... æ‰§è¡Œæ“ä½œ ...

let report = profiler.stopProfiling()
print(report)  // æ‰“å°è¯¦ç»†æŠ¥å‘Š
```

---

## 6. ä½¿ç”¨æ–¹å¼

### 6.1 åˆ‡æ¢æœåŠ¡å®ç°

**AppState.swift** ä¸­é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶ï¼š

```swift
// Debugæ¨¡å¼é»˜è®¤ä½¿ç”¨MockæœåŠ¡
// è®¾ç½® USE_MOCK_SERVICE=0 ä½¿ç”¨çœŸå®æœåŠ¡

// æˆ–åœ¨ä»£ç ä¸­ç›´æ¥åˆ‡æ¢:
private init() {
    // å¼€å‘æµ‹è¯•
    self.service = MockClipboardService()

    // ç”Ÿäº§ç¯å¢ƒ
    // self.service = RealClipboardService()
}
```

### 6.2 å¯åŠ¨çœŸå®æœåŠ¡

```swift
// åœ¨ AppDelegate æˆ– ScopyApp ä¸­
Task {
    await AppState.shared.start()  // å¯åŠ¨ç›‘æ§ã€æ‰“å¼€æ•°æ®åº“
}
```

### 6.3 æ•°æ®åº“ä½ç½®

```
~/Library/Application Support/Scopy/
â”œâ”€â”€ clipboard.db          # SQLiteæ•°æ®åº“
â”œâ”€â”€ content/              # å¤–éƒ¨å­˜å‚¨çš„å¤§å†…å®¹
â”‚   â””â”€â”€ <uuid>.png
â””â”€â”€ thumbnails/           # ç¼©ç•¥å›¾ç¼“å­˜
```

---

## 7. æ–‡ä»¶æ¸…å•

### 7.1 æ–°å¢æ–‡ä»¶

| æ–‡ä»¶ | è¡Œæ•° | è¯´æ˜ |
|------|------|------|
| Services/ClipboardMonitor.swift | ~350 | å‰ªè´´æ¿ç›‘æ§ |
| Services/StorageService.swift | ~500 | SQLiteå­˜å‚¨ |
| Services/SearchService.swift | ~300 | FTS5æœç´¢ |
| Services/RealClipboardService.swift | ~200 | æœåŠ¡æ•´åˆ |
| Services/PerformanceProfiler.swift | ~250 | æ€§èƒ½åˆ†æ |
| ScopyTests/StorageServiceTests.swift | ~300 | å­˜å‚¨æµ‹è¯• |
| ScopyTests/SearchServiceTests.swift | ~350 | æœç´¢æµ‹è¯• |
| ScopyTests/ClipboardMonitorTests.swift | ~250 | ç›‘æ§æµ‹è¯• |
| ScopyTests/IntegrationTests.swift | ~300 | é›†æˆæµ‹è¯• |
| ScopyTests/PerformanceTests.swift | ~350 | æ€§èƒ½æµ‹è¯• |

### 7.2 ä¿®æ”¹æ–‡ä»¶

| æ–‡ä»¶ | ä¿®æ”¹è¯´æ˜ |
|------|----------|
| Observables/AppState.swift | æ·»åŠ æœåŠ¡å¯åŠ¨/åœæ­¢ã€äº‹ä»¶ç›‘å¬ |
| project.yml | æ·»åŠ æµ‹è¯•targetã€SQLiteä¾èµ– |
| Makefile | æ·»åŠ æµ‹è¯•å‘½ä»¤ |

---

## 8. ä¸‹ä¸€æ­¥å·¥ä½œ

### 8.1 å¾…å®Œå–„

- [ ] å›¾ç‰‡ç¼©ç•¥å›¾ç”Ÿæˆ
- [ ] RTF/HTMLé¢„è§ˆ
- [ ] è®¾ç½®çª—å£UI
- [ ] å…¨å±€å¿«æ·é”®
- [ ] è‡ªåŠ¨å¯åŠ¨é…ç½®

### 8.2 æ€§èƒ½ä¼˜åŒ–

- [ ] WAL checkpointè°ƒåº¦
- [ ] å¢é‡vacuum
- [ ] æŸ¥è¯¢è®¡åˆ’ä¼˜åŒ–
- [ ] å†…å­˜ç¼“å­˜è°ƒä¼˜

### 8.3 å¯é€‰ç‰¹æ€§

- [ ] å¯¼å‡ºå†å²
- [ ] iCloudåŒæ­¥
- [ ] æ’ä»¶ç³»ç»Ÿ

---

## 9. å¿«é€Ÿæ£€æŸ¥æ¸…å•

æ–°å¯¹è¯å¯åŠ¨æ—¶ï¼š

```
âœ… åç«¯æœåŠ¡å®Œæ•´å®ç°
âœ… æµ‹è¯•æ–‡ä»¶åˆ›å»ºå®Œæˆ
âœ… ç¼–è¯‘æˆåŠŸ (make build)
âœ… æ€§èƒ½åˆ†æå™¨å¯ç”¨

è¿è¡Œæµ‹è¯•:
  make test         # æ‰€æœ‰æµ‹è¯•
  make test-unit    # å•å…ƒæµ‹è¯•
  make benchmark    # æ€§èƒ½åŸºå‡†

åˆ‡æ¢åˆ°çœŸå®æœåŠ¡:
  1. è®¾ç½®ç¯å¢ƒå˜é‡ USE_MOCK_SERVICE=0
  2. æˆ–ä¿®æ”¹ AppState.swift ä¸­çš„æœåŠ¡åˆå§‹åŒ–

æ•°æ®ä½ç½®:
  ~/Library/Application Support/Scopy/
```

---

## 10. å˜æ›´æ—¥å¿—

### v0.2.0 (2024-11-27)

**åç«¯å®Œæ•´å®ç°**

âœ… æ–°å¢:
- ClipboardMonitor (ç³»ç»Ÿå‰ªè´´æ¿ç›‘æ§)
- StorageService (SQLite + FTS5)
- SearchService (å¤šæ¨¡å¼æœç´¢)
- RealClipboardService (æœåŠ¡æ•´åˆ)
- PerformanceProfiler (æ€§èƒ½åˆ†æ)
- 5ä¸ªæµ‹è¯•æ–‡ä»¶ (~1500è¡Œæµ‹è¯•ä»£ç )

âœ… ä¿®æ”¹:
- AppState æ”¯æŒçœŸå®/MockæœåŠ¡åˆ‡æ¢
- project.yml æ·»åŠ æµ‹è¯•target
- Makefile æ·»åŠ æµ‹è¯•å‘½ä»¤

âœ… éªŒè¯:
- ç¼–è¯‘æˆåŠŸ
- v0.md 4ä¸ªæ ¸å¿ƒç›®æ ‡å…¨éƒ¨å®ç°

---

**æ–‡æ¡£ç»´æŠ¤**: æ¯æ¬¡é‡å¤§æ›´æ”¹æ—¶æ›´æ–°æ­¤æ–‡æ¡£
**æœ€åæ›´æ–°**: 2024-11-27
