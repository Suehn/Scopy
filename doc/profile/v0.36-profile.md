# v0.36 性能对比（v0.35.1 → v0.36）

**日期**: 2025-12-13

## 对比版本

- v0.35.1 → v0.36

> 说明：v0.35.1 为 doc-only 版本，性能基线等同 v0.35（见 `doc/profile/v0.35-profile.md` 与 `doc/profile/v0.35.1-profile.md`）。

## 测试环境

- 设备：Apple M3
- 系统：macOS 15.7.2（24G325）
- 架构：arm64
- 配置：Debug
- 命令：`make test-perf`（`RUN_PERF_TESTS=1`）
- 备注：heavy 场景需 `RUN_HEAVY_PERF_TESTS=1` 才运行

## 性能对比表格

| 指标 | v0.35.1 | v0.36 |
|------|--------:|------:|
| Fuzzy 5k items P95 | 4.69ms | 5.23ms |
| Fuzzy 10k items P95 | 44.81ms | 44.80ms |
| Disk 25k fuzzy P95 | 55.73ms | 56.94ms |
| Bulk insert 1000 items | 54.33ms（≈18,405 items/s） | 54.80ms（≈18,248 items/s） |
| Fetch recent (50 items) avg | 0.07ms | 0.07ms |
| Regex 20k items P95 | 3.03ms | 3.08ms |
| Mixed content disk search（single run, after warmup） | 4.20ms | 4.27ms |

## 测试用例变化

- 无新增/删除用例；本次主要变更为 Phase 6（日志/AsyncStream buffering/阈值配置），不触及 Search/Storage 核心算法。

## 性能回归说明

- 指标波动在 run-to-run 正常范围内；如出现持续性回归，优先排查系统负载/温度/缓存热度差异。

## 总结

- v0.36 的重点是“语义确定性”（显式 buffering / 统一日志 / 集中阈值），性能基线无已知回归。

