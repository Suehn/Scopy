# v0.43.4 性能对比（v0.43.3 → v0.43.4）

**日期**: 2025-12-14

## 对比版本

- v0.43.3 → v0.43.4

## 测试环境

- 设备：MacBook Air（Apple M3, 24 GB）
- 系统：macOS 15.7.2（24G325）
- 架构：arm64
- 配置：Debug
- 命令：`make test-perf`（`RUN_PERF_TESTS=1`）
- 电源：Low Power Mode disabled（`pmset -g` 显示 `lowpowermode 0`）

> 注意：v0.43.3 的对比基线记录在 Low Power Mode enabled 环境下；与本次采样电源策略不同，表格仅供参考，不建议将差异解读为代码带来的确定性提升/回归。

## 性能对比表格

| 指标 | v0.43.3 | v0.43.4 |
|------|--------:|--------:|
| Fuzzy 5k items P95 | 9.09ms（Low Power Mode enabled） | 4.82ms（Low Power Mode disabled） |
| Fuzzy 10k items P95 | 81.33ms（Samples: 50；Low Power Mode enabled） | 44.61ms（Samples: 50；Low Power Mode disabled） |
| Disk 25k fuzzy P95 | 108.45ms（Samples: 50；Low Power Mode enabled） | 70.83ms（Samples: 50；Low Power Mode disabled） |
| Bulk insert 1000 items | 85.31ms（≈11,721 items/s；Low Power Mode enabled） | 51.87ms（≈19,277 items/s；Low Power Mode disabled） |
| Fetch recent (50 items) avg | 0.11ms | 0.07ms |
| Regex 20k items P95 | 5.54ms | 2.99ms |
| Mixed content disk search（single run） | 7.59ms | 4.25ms |

## 测试用例变化

- 无（本版本为存储测试隔离与缩略图刷新修复；perf 用例集合未变）。

## 性能回归说明

- 本版本未改动搜索/存储热路径的算法结构；指标变化更可能来自电源策略差异与系统抖动。

## 总结

- v0.43.4 重点是修复测试误删外部原图与缩略图即时刷新；性能数据作为参考记录，建议后续若需要严格对比请在相同电源策略下复测。

