# v0.43.12 性能对比（v0.43.11 → v0.43.12）

**日期**: 2025-12-15

## 对比版本

- v0.43.11 → v0.43.12

## 测试环境

- 设备：MacBook Air（Mac15,12, 24 GB）
- 系统：macOS 15.7.2（24G325）
- 架构：arm64
- 配置：Debug
- 命令：`make test-perf`（`RUN_PERF_TESTS=1`）
- 电源：Low Power Mode disabled

## 性能对比表格

| 指标 | v0.43.11 | v0.43.12 | 变化 |
|------|---------:|---------:|------:|
| Search 10k P95 (fuzzyPlus) | 59.03ms | 48.44ms | -10.59ms (-17.94%) |
| Search 10k cold start (fuzzyPlus) | 131.58ms | 113.67ms | -17.91ms (-13.61%) |
| Disk 25k P95 (fuzzyPlus) | 66.36ms | 44.92ms | -21.44ms (-32.31%) |
| Disk 25k cold start (fuzzyPlus) | 739.60ms | 712.36ms | -27.24ms (-3.68%) |
| Service-path disk 10k P95 (fuzzyPlus) | 49.58ms | 39.45ms | -10.13ms (-20.43%) |
| Service-path disk 10k cold start (fuzzyPlus) | 259.61ms | 251.20ms | -8.41ms (-3.24%) |

## 测试用例变化

- 新增：SearchService 排序用例（`exact/fuzzy` 时间排序 + pinned 优先）。

## 性能回归说明

- 本版本更改了搜索排序策略；通过 `idx_pinned` 驱动 time-first FTS prefilter 保证磁盘搜索 P95 不回退。

## 总结

- 主要指标整体下降（更快）；搜索结果顺序对齐“最近使用”的用户预期，且无性能回退。

