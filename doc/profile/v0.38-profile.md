# v0.38 性能对比（v0.37 → v0.38）

**日期**: 2025-12-13

## 对比版本

- v0.37 → v0.38

## 测试环境

- 设备：Apple M3
- 系统：macOS 15.7.2（24G325）
- 架构：arm64
- 配置：Debug
- 命令：`make test-perf`（`RUN_PERF_TESTS=1`）
- 备注：heavy 场景需 `RUN_HEAVY_PERF_TESTS=1` 才运行

## 性能对比表格

| 指标 | v0.37 | v0.38 |
|------|------:|------:|
| Fuzzy 5k items P95 | 8.55ms | 4.68ms |
| Fuzzy 10k items P95 | 78.40ms | 43.44ms |
| Disk 25k fuzzy P95 | 115.68ms | 56.15ms |
| Bulk insert 1000 items | 83.97ms（≈11,908 items/s） | 82.69ms（≈12,094 items/s） |
| Fetch recent (50 items) avg | 0.11ms | 0.07ms |
| Regex 20k items P95 | 5.54ms | 3.02ms |
| Mixed content disk search（single run, after warmup） | 7.37ms | 4.25ms |

## 测试用例变化

- 无新增/删除用例；本次改动集中在 Presentation（展示字段/缓存入口），不改 Search/Storage 算法主路径。

## 性能回归说明

- 未观察到回归；本次单次运行数据相对 v0.37 更接近 v0.36 基线。

## 总结

- v0.38 的主要交付是“边界清晰度与可维护性”（DTO 去 UI 派生字段 + 缓存入口收口），性能指标仍满足 `v0.md` 目标。

